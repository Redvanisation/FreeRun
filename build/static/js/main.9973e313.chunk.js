(this["webpackJsonpfree-run"]=this["webpackJsonpfree-run"]||[]).push([[0],{55:function(e,t,a){e.exports=a(97)},96:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),l=a.n(c),s=a(10),i=a(11),o=a(53),m=a(4);function u(e,t){var a=Object(n.useState)((function(){try{var a=window.localStorage.getItem(e);return a?JSON.parse(a):t}catch(n){return console.log(n),t}})),r=Object(m.a)(a,2),c=r[0],l=r[1];return[c,function(t){try{var a=t instanceof Function?t(c):t;l(a),window.localStorage.setItem(e,JSON.stringify(a))}catch(n){console.log(n)}}]}var d=Object(n.createContext)(null),E=function(e){var t=e.children,a=u("Cart",[]),n=Object(m.a)(a,2),c=n[0],l=n[1],s=u("quantity",0),i=Object(m.a)(s,2),E=i[0],p=i[1],b=function(e,t){switch(e){case"+":return p((function(e){return e+1}));case"-":return p((function(e){return e-1}));case"REMOVE":return p((function(e){return e-t.quantity}));default:throw Error()}},v=function(e){l(c.filter((function(t){return t.name!==e.name}))),b("REMOVE",e)};return r.a.createElement(d.Provider,{value:{cart:c,cartCount:E,addToCart:function(e){c.includes(e)?e.quantity<e.stock?(e.quantity+=1,l((function(t){var a=t.indexOf(e);return t[a]=e,b("+"),t}))):alert("Sorry! we only have ".concat(e.stock," units of this item...")):(e.quantity=1,l((function(t){return[].concat(Object(o.a)(t),[e])})),b("+"))},subtractFromCart:function(e){if(!(c.includes(e)&&e.quantity>1))return v(e);e.quantity-=1,l((function(t){var a=t.indexOf(e);return t[a]=e,b("-"),t}))},removeFromCart:v,quantityCount:b,clearCart:function(){l([]),p(0)}}},t)},p=a(13),b=a(52),v=function(){var e=Object(n.useState)(!1),t=Object(m.a)(e,2),a=t[0],c=t[1],l=Object(n.useContext)(d).cartCount;return r.a.createElement(p.Navbar,{fixed:"top",active:a,transparent:!1,className:"top-bar"},r.a.createElement(p.Navbar.Brand,null,r.a.createElement(s.b,{to:"/",className:"title white-title is-4 top-bar__title"},"FREE RUN"),r.a.createElement(p.Navbar.Burger,{className:"top-bar__link--burger",onClick:function(){return c(!a)}})),r.a.createElement(p.Navbar.Menu,null,r.a.createElement(p.Navbar.Container,{className:"top-bar__link-container",position:"end"},r.a.createElement("div",{className:"top-bar__link-div"},r.a.createElement(s.b,{to:"/",className:"top-bar__link is-bold"},"Home")),r.a.createElement("div",{className:"top-bar__link-div"},r.a.createElement(s.b,{to:"/cart",className:"top-bar__link is-bold"},r.a.createElement(b.a,{className:"top-bar__icon"}),r.a.createElement("span",{className:"top-bar__icon--number"},"(",l,")"))))))},h=function(e){var t=e.children;e.title;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,null),r.a.createElement("div",{className:"wrapper"},t))},N=a(48),f=a(49),_=(a(75),function(){var e={showArrows:!1,showStatus:!1,showThumbs:!1,infiniteLoop:!0,autoPlay:!0,interval:8e3,transitionTime:1e3,className:"hero"};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"hero__titles-div has-text-centered is-uppercase"},r.a.createElement("h1",{className:"title is-1 hero__titles-div--h1 legend"},"Free Run"),r.a.createElement("h2",{className:"subtitle is-3 hero__titles-div--h2 legend"},"Your best choice of sneakers"),r.a.createElement(N.Link,{className:"button is-medium hero__titles-div--btn legend",to:"store",smooth:!0,duration:500},"Shop Now")),r.a.createElement(f.Carousel,e,r.a.createElement("div",{className:"hero__slide-1"}),r.a.createElement("div",{className:"hero__slide-2"}),r.a.createElement("div",{className:"hero__slide-3"})))}),g=a(26),y=a.n(g),O=a(50),C=a(18),k=a.n(C),x=function(e){return"$".concat(e.toFixed(2))},j=function(e){var t=e.setSearch;return r.a.createElement("input",{type:"search",className:"search-bar input is-centered has-text-centered",placeholder:"Find products...",onChange:function(e){return t(e.target.value)}})},w=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),i=Object(m.a)(l,2),o=i[0],u=i[1];Object(n.useEffect)((function(){(function(){var e=Object(O.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("https://free-run-api.herokuapp.com/api/products");case 2:t=e.sent,c(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var d=a.filter((function(e){return-1!==e.name.toLowerCase().indexOf(o.toLowerCase())}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"title is-1 has-text-centered is-uppercase big-title",id:"store"},"Our Sneakers"),r.a.createElement(j,{setSearch:u}),r.a.createElement("div",{className:"columns is-multiline is-vcentered is-centered card-container"},d.length>0?d.map((function(e){return r.a.createElement("div",{className:"card column is-one-quarter",key:e.id},r.a.createElement(s.b,{to:{pathname:"/products/".concat(e.id),product:e},key:e.id},r.a.createElement("div",{className:"card-image"},r.a.createElement("figure",{className:"image"},r.a.createElement("img",{src:e.image.url,alt:e.name}))),r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"media"},r.a.createElement("div",{className:"media-content has-text-centered"},r.a.createElement("p",{className:"title is-5"},e.name),r.a.createElement("p",{className:"subtitle is-6 is-bold"},x(e.price)))))))})):r.a.createElement("div",{className:"wrong-search-div has-text-centered"},r.a.createElement("h2",{className:"title is-4"},"Please try different keywords..."))))},S=function(){return r.a.createElement(h,{title:"Products Page"},r.a.createElement(_,null),r.a.createElement(w,null))},q=function(e){var t=e.product,a=Object(n.useContext)(d);return r.a.createElement("div",{className:"columns single-product"},r.a.createElement("div",{className:"column is-three-fifths single-product__image-div"},r.a.createElement("img",{src:t.image.url,alt:t.name})),r.a.createElement("div",{className:"column has-text-centered is-vertical-center-col single-product__text-div"},r.a.createElement("h3",{className:"title is-4 single-product__text-div--item"},t.name),r.a.createElement("hr",null),r.a.createElement("p",{className:"subtitle single-product__text-div--item"},t.description),r.a.createElement("p",{className:"title is-4 single-product__text-div--item"},x(t.price)),r.a.createElement("p",{className:"subtitle single-product__text-div--item"},r.a.createElement("span",{className:"subtitle is-bold"},"Stock: "),t.stock>0?t.stock:"OUT OF STOCK"),t.stock<=0?null:r.a.createElement("div",null,r.a.createElement("button",{className:"button",type:"button",onClick:function(){return e=t,void a.addToCart(e);var e}},"Add to cart"))))},F=function(e){var t=e.location;return r.a.createElement(h,{title:t.product.name},r.a.createElement(q,{product:t.product}))},T=a(54),P=a(27),R=a(51),B=function(e){var t=e.product,a=e.add,n=e.subtract,c=e.remove;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"quantity"},r.a.createElement("button",{className:"button quantity__btn",type:"button",onClick:function(){return n(t)}},"-"),r.a.createElement("h5",{className:"quantity__number"},t.quantity),r.a.createElement("button",{className:"button quantity__btn",type:"button",onClick:function(){return a(t)}},"+")),r.a.createElement("button",{className:"button quantity__btn--remove",type:"button",onClick:function(){return c(t)}},"remove"))},I=(a(94),function(e){var t=e.history,a=Object(n.useContext)(d),c=Object(n.useState)(0),l=Object(m.a)(c,2),s=l[0],i=l[1],o=Object(n.useState)(0),u=Object(m.a)(o,2),E=u[0],p=u[1],b=Object(n.useState)(0),v=Object(m.a)(b,2),h=v[0],N=v[1],f=function(e){e.forEach((function(e){!function(e){k()({method:"put",url:"https://free-run-api.herokuapp.com/api/products/".concat(e.id),data:Object(T.a)({},e,{stock:e.stock-e.quantity}),headers:{"Content-Type":"application/json"},mode:"cors"}).catch((function(e){return console.log(e)}))}(e)}))};Object(n.useEffect)((function(){!function(e){var t=e.reduce((function(e,t){return e+t.quantity*t.price}),0);i(t)}(a.cart),p((8.49*s/100).toFixed(2)),N(Number(s)+Number(E))}));var _=function(){return Object(P.b)("Transaction completed successfully!",{onClose:function(){return a.clearCart(),void t.push("/")}})};return r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column has-rows is-two-thirds"},r.a.createElement("h3",{className:"column title is-3"},"My Cart"),a.cart.length>0?a.cart.map((function(e){return r.a.createElement("div",{className:"column columns cart__card",key:e.id},r.a.createElement("div",{className:"column"},r.a.createElement("img",{src:e.image.url,alt:e.name})),r.a.createElement("div",{className:"column has-text-centered"},r.a.createElement("h4",{className:"title is-4"},e.name),r.a.createElement("h4",{className:"title is-6"},x(e.price*e.quantity)),r.a.createElement(B,{product:e,add:a.addToCart,subtract:a.subtractFromCart,remove:a.removeFromCart})))})):r.a.createElement("h2",{className:"has-text-centered subtitle is-6"},"Your Cart is empty")),r.a.createElement("div",{className:"column has-text-centered"},r.a.createElement("h3",{className:"column title"},"Summary"),r.a.createElement(P.a,{autoClose:3e3,hideProgressBar:!0,position:"top-right"}),r.a.createElement("div",{className:"is-flex cart__summary"},r.a.createElement("h5",{className:"is-bold is-6"},"Subtotal"),r.a.createElement("p",{className:""},x(s))),r.a.createElement("div",{className:"is-flex"},r.a.createElement("h5",{className:"is-bold is-6"},"Shipping"),r.a.createElement("p",{className:""},"FREE")),r.a.createElement("div",{className:"is-flex"},r.a.createElement("h5",{className:"is-bold is-6"},"Tax"),r.a.createElement("p",{className:""},"$".concat(E))),r.a.createElement("hr",{className:"cart__hr"}),r.a.createElement("div",{className:"is-flex"},r.a.createElement("h5",{className:"title is-5 cart__total"},"Total"),r.a.createElement("p",{className:"title is-5 "},x(h))),r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"is-4"},r.a.createElement("button",{className:"button cart__btn",type:"button",onClick:function(){return a.clearCart()}},"Clear Cart"),r.a.createElement(R.PayPalButton,{amount:h,shippingPreference:"NO_SHIPPING",onSuccess:function(){f(a.cart),_()},style:{label:"checkout",color:"black",size:"responsive"}})))))}),J=function(e){var t=e.history;return r.a.createElement(h,{title:"Your Cart"},r.a.createElement(I,{history:t}))},L=(a(95),a(96),function(e){var t=e.children,a=Object(n.useState)(!0),c=Object(m.a)(a,2),l=c[0],s=c[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"modal ".concat(l?"is-active":"")},r.a.createElement("div",{className:"modal-background"}),r.a.createElement("div",{className:"modal-card"},r.a.createElement("section",{className:"modal-card-body has-text-centered modal__div"},r.a.createElement("div",{className:"modal__div--message"},r.a.createElement("p",{className:"modal__div--message"},"Free Run E-Commerce Store is a full stack React.js and Rails PROTOTYPE app based on a previous project for a client."),r.a.createElement("p",{className:"modal__div--message is-bold is-uppercase"},"This is NOT a real e-commerce site."),r.a.createElement("p",{className:"modal__div--message"},"By clicking the agree button below, you accept that no purchases will be made and that actual personal information should not be used at checkout.")),r.a.createElement("button",{className:"button is-medium is-uppercase modal__div--btn",type:"button",onClick:function(){return s(!1)}},"I Agree")))),t)});l.a.render(r.a.createElement(s.a,null,r.a.createElement(i.c,null,r.a.createElement(E,null,r.a.createElement(L,null,r.a.createElement(i.a,{exact:!0,path:"/",component:S})),r.a.createElement(i.a,{exact:!0,path:"/products/:id",component:F}),r.a.createElement(i.a,{exact:!0,path:"/cart",component:J})))),document.getElementById("root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.9973e313.chunk.js.map